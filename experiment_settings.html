
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  
  <!-- Licensed under the Apache 2.0 License -->
  <link rel="stylesheet" type="text/css" href="_static/fonts/open-sans/stylesheet.css" />
  <!-- Licensed under the SIL Open Font License -->
  <link rel="stylesheet" type="text/css" href="_static/fonts/source-serif-pro/source-serif-pro.css" />
  <link rel="stylesheet" type="text/css" href="_static/css/bootstrap.min.css" />
  <link rel="stylesheet" type="text/css" href="_static/css/bootstrap-theme.min.css" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
    <title>More about hiplot.Experiment &#8212; HiPlot 0.1.33
 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/guzzle.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/icon.png"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Advanced uses: Webserver" href="tuto_webserver.html" />
    <link rel="prev" title="Getting started" href="getting_started.html" />
  
   

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="tuto_webserver.html" title="Advanced uses: Webserver"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="getting_started.html" title="Getting started"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">HiPlot 0.1.33
 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">More about <code class="xref py py-class docutils literal notranslate"><span class="pre">hiplot.Experiment</span></code></a></li> 
      </ul>
    </div>
    <div class="container-wrapper">

      <div id="mobile-toggle">
        <a href="#"><span class="glyphicon glyphicon-align-justify" aria-hidden="true"></span></a>
      </div>
  <div id="left-column">
    <div class="sphinxsidebar"><a href="
    index.html" class="text-logo">HiPlot</a>
<div class="sidebar-block">
  <div class="sidebar-wrapper">
    <h2>Table Of Contents</h2>
  </div>
  <div class="sidebar-toc">
    
    
      <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting started</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">More about <code class="xref py py-class docutils literal notranslate"><span class="pre">hiplot.Experiment</span></code></a><ul>
<li class="toctree-l2"><a class="reference internal" href="#drawing-lines-by-connecting-datapoints">Drawing lines by connecting Datapoints</a></li>
<li class="toctree-l2"><a class="reference internal" href="#frontend-rendering-settings">Frontend rendering settings</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tuto_webserver.html">Advanced uses: Webserver</a></li>
<li class="toctree-l1"><a class="reference internal" href="tuto_notebook.html">Advanced uses: notebooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="tuto_streamlit.html">HiPlot component for Streamlit</a></li>
<li class="toctree-l1"><a class="reference internal" href="tuto_javascript.html">NPM library (javascript)</a></li>
<li class="toctree-l1"><a class="reference internal" href="py_reference.html">Python classes reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="plugins_reference.html">Displays reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Building HiPlot from source</a></li>
</ul>

    
  </div>
</div>
<div class="sidebar-block">
  <div class="sidebar-wrapper">
    <div id="main-search">
      <form class="form-inline" action="search.html" method="GET" role="form">
        <div class="input-group">
          <input name="q" type="text" class="form-control" placeholder="Search...">
        </div>
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
      </form>
    </div>
  </div>
</div>
      
    </div>
  </div>
        <div id="right-column">
          
          <div role="navigation" aria-label="breadcrumbs navigation">
            <ol class="breadcrumb">
              <li><a href="index.html">Docs</a></li>
              
              <li>More about <code class="xref py py-class docutils literal notranslate"><span class="pre">hiplot.Experiment</span></code></li>
            </ol>
          </div>
          
          <div class="document clearer body">
            
  <section id="more-about-hiplot-experiment">
<span id="customizexp"></span><h1>More about <a class="reference internal" href="py_reference.html#hiplot.Experiment" title="hiplot.Experiment"><code class="xref py py-class docutils literal notranslate"><span class="pre">hiplot.Experiment</span></code></a><a class="headerlink" href="#more-about-hiplot-experiment" title="Permalink to this heading">¶</a></h1>
<section id="drawing-lines-by-connecting-datapoints">
<h2>Drawing lines by connecting Datapoints<a class="headerlink" href="#drawing-lines-by-connecting-datapoints" title="Permalink to this heading">¶</a></h2>
<p>HiPlot has an XY graph. By default, it will simply display one dot per datapoint.
However, it is possible to make it draw lines or even trees by specifying offspring relationships.
In an <a class="reference internal" href="py_reference.html#hiplot.Experiment" title="hiplot.Experiment"><code class="xref py py-class docutils literal notranslate"><span class="pre">hiplot.Experiment</span></code></a>, each point corresponds to a <a class="reference internal" href="py_reference.html#hiplot.Datapoint" title="hiplot.Datapoint"><code class="xref py py-class docutils literal notranslate"><span class="pre">hiplot.Datapoint</span></code></a>, and each <a class="reference internal" href="py_reference.html#hiplot.Datapoint" title="hiplot.Datapoint"><code class="xref py py-class docutils literal notranslate"><span class="pre">hiplot.Datapoint</span></code></a> has a unique <code class="code docutils literal notranslate"><span class="pre">uid</span></code>.
When a <a class="reference internal" href="py_reference.html#hiplot.Datapoint" title="hiplot.Datapoint"><code class="xref py py-class docutils literal notranslate"><span class="pre">hiplot.Datapoint</span></code></a> has his <code class="code docutils literal notranslate"><span class="pre">from_uid</span></code> set to a parent’s <code class="code docutils literal notranslate"><span class="pre">uid</span></code>, the XY graph will connect the parent and the child.</p>
<p>Multiple points can share the same parent - this is especially useful when representing evolving populations.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">exp</span> <span class="o">=</span> <span class="n">hip</span><span class="o">.</span><span class="n">Experiment</span><span class="p">()</span>
    <span class="n">exp</span><span class="o">.</span><span class="n">display_data</span><span class="p">(</span><span class="n">hip</span><span class="o">.</span><span class="n">Displays</span><span class="o">.</span><span class="n">XY</span><span class="p">)</span><span class="o">.</span><span class="n">update</span><span class="p">({</span>
        <span class="s1">&#39;axis_x&#39;</span><span class="p">:</span> <span class="s1">&#39;generation&#39;</span><span class="p">,</span>
        <span class="s1">&#39;axis_y&#39;</span><span class="p">:</span> <span class="s1">&#39;loss&#39;</span><span class="p">,</span>
    <span class="p">})</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">200</span><span class="p">):</span>
        <span class="n">dp</span> <span class="o">=</span> <span class="n">hip</span><span class="o">.</span><span class="n">Datapoint</span><span class="p">(</span>
            <span class="n">uid</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">),</span>
            <span class="n">values</span><span class="o">=</span><span class="p">{</span>
                <span class="s1">&#39;generation&#39;</span><span class="p">:</span> <span class="n">i</span><span class="p">,</span>
                <span class="s1">&#39;param&#39;</span><span class="p">:</span> <span class="mi">10</span> <span class="o">**</span> <span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
                <span class="s1">&#39;loss&#39;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span>
            <span class="p">})</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="p">:</span>
            <span class="n">from_parent</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">exp</span><span class="o">.</span><span class="n">datapoints</span><span class="p">[</span><span class="o">-</span><span class="mi">10</span><span class="p">:])</span>
            <span class="n">dp</span><span class="o">.</span><span class="n">from_uid</span> <span class="o">=</span> <span class="n">from_parent</span><span class="o">.</span><span class="n">uid</span>  <span class="c1"># &lt;-- Connect the parent to the child</span>
            <span class="n">dp</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="s1">&#39;loss&#39;</span><span class="p">]</span> <span class="o">+=</span> <span class="n">from_parent</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="s1">&#39;loss&#39;</span><span class="p">]</span>  <span class="c1"># type: ignore</span>
            <span class="n">dp</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="s1">&#39;param&#39;</span><span class="p">]</span> <span class="o">*=</span> <span class="n">from_parent</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="s1">&#39;param&#39;</span><span class="p">]</span>  <span class="c1"># type: ignore</span>
        <span class="n">exp</span><span class="o">.</span><span class="n">datapoints</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">dp</span><span class="p">)</span>
</pre></div>
</div>
<iframe src="https://facebookresearch.github.io/hiplot/_static/demo/demo_line_xy.html" height="1000px" style="width: 865px; margin-left: -20px"></iframe></section>
<section id="frontend-rendering-settings">
<span id="frontendrenderingsettings"></span><h2>Frontend rendering settings<a class="headerlink" href="#frontend-rendering-settings" title="Permalink to this heading">¶</a></h2>
<p>It is possible to customize how the data is rendered:</p>
<ul class="simple">
<li><p>Either globally by attributing a <a class="reference internal" href="py_reference.html#hiplot.ValueType" title="hiplot.ValueType"><code class="xref py py-class docutils literal notranslate"><span class="pre">hiplot.ValueType</span></code></a> to columns</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">exp</span> <span class="o">=</span> <span class="n">hip</span><span class="o">.</span><span class="n">fetchers</span><span class="o">.</span><span class="n">load_demo</span><span class="p">(</span><span class="s2">&quot;demo&quot;</span><span class="p">)</span>  <span class="c1"># Let&#39;s create a dummy experiment</span>

    <span class="c1"># Change column type</span>
    <span class="n">exp</span><span class="o">.</span><span class="n">parameters_definition</span><span class="p">[</span><span class="s2">&quot;optionA&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">hip</span><span class="o">.</span><span class="n">ValueType</span><span class="o">.</span><span class="n">NUMERIC_LOG</span>
    <span class="c1"># Force a column minimum/maximum values</span>
    <span class="n">exp</span><span class="o">.</span><span class="n">parameters_definition</span><span class="p">[</span><span class="s2">&quot;pct_success&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">force_range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
    <span class="c1"># Change d3 colormap (https://github.com/d3/d3-scale-chromatic) for non-categorical columns</span>
    <span class="n">exp</span><span class="o">.</span><span class="n">parameters_definition</span><span class="p">[</span><span class="s2">&quot;exp_metric&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">colormap</span> <span class="o">=</span> <span class="s2">&quot;interpolateSinebow&quot;</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Or for invididual components with <a class="reference internal" href="py_reference.html#hiplot.Experiment.display_data" title="hiplot.Experiment.display_data"><code class="xref py py-meth docutils literal notranslate"><span class="pre">hiplot.Experiment.display_data()</span></code></a> (see <a class="reference internal" href="plugins_reference.html#displaysreference"><span class="std std-ref">Displays reference</span></a> for all possible values)</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="c1"># Provide configuration for the parallel plot</span>
    <span class="n">exp</span><span class="o">.</span><span class="n">display_data</span><span class="p">(</span><span class="n">hip</span><span class="o">.</span><span class="n">Displays</span><span class="o">.</span><span class="n">PARALLEL_PLOT</span><span class="p">)</span><span class="o">.</span><span class="n">update</span><span class="p">({</span>
        <span class="c1"># Hide some columns in the parallel plot</span>
        <span class="s1">&#39;hide&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;optionB&#39;</span><span class="p">],</span>
        <span class="c1"># Specify the order for others</span>
        <span class="s1">&#39;order&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">],</span>  <span class="c1"># Put column time first on the left</span>
    <span class="p">})</span>

    <span class="c1"># Provide configuration for the table with all the rows</span>
    <span class="n">exp</span><span class="o">.</span><span class="n">display_data</span><span class="p">(</span><span class="n">hip</span><span class="o">.</span><span class="n">Displays</span><span class="o">.</span><span class="n">TABLE</span><span class="p">)</span><span class="o">.</span><span class="n">update</span><span class="p">({</span>
        <span class="c1"># Don&#39;t display `uid` and `from_uid` columns to the user</span>
        <span class="s1">&#39;hide&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;uid&#39;</span><span class="p">,</span> <span class="s1">&#39;from_uid&#39;</span><span class="p">],</span>
        <span class="c1"># In the table, order rows by default</span>
        <span class="s1">&#39;order_by&#39;</span><span class="p">:</span> <span class="p">[[</span><span class="s1">&#39;pct_success&#39;</span><span class="p">,</span> <span class="s1">&#39;desc&#39;</span><span class="p">]],</span>
        <span class="c1"># Specify the order for columns</span>
        <span class="s1">&#39;order&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">],</span>  <span class="c1"># Put column time first on the left</span>
    <span class="p">})</span>

    <span class="c1"># Provide configuration for the XY graph</span>
    <span class="n">exp</span><span class="o">.</span><span class="n">display_data</span><span class="p">(</span><span class="n">hip</span><span class="o">.</span><span class="n">Displays</span><span class="o">.</span><span class="n">XY</span><span class="p">)</span><span class="o">.</span><span class="n">update</span><span class="p">({</span>
        <span class="c1"># Default X axis for the XY plot</span>
        <span class="s1">&#39;axis_x&#39;</span><span class="p">:</span> <span class="s1">&#39;time&#39;</span><span class="p">,</span>
        <span class="c1"># Default Y axis</span>
        <span class="s1">&#39;axis_y&#39;</span><span class="p">:</span> <span class="s1">&#39;lr&#39;</span><span class="p">,</span>
        <span class="c1"># Configure lines</span>
        <span class="s1">&#39;lines_thickness&#39;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
        <span class="s1">&#39;lines_opacity&#39;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">,</span>
        <span class="c1"># Configure dots</span>
        <span class="s1">&#39;dots_thickness&#39;</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">,</span>
        <span class="s1">&#39;dots_opacity&#39;</span><span class="p">:</span> <span class="mf">0.3</span><span class="p">,</span>
    <span class="p">})</span>
</pre></div>
</div>
<figure class="align-default">
<a class="reference internal image-reference" href="_images/customized_demo.png"><img alt="_images/customized_demo.png" src="_images/customized_demo.png" style="width: 800px;" /></a>
</figure>
<p>Rendering of the experiment.</p>
</section>
</section>


          </div>
            
  <div class="footer-relations">
    
      <div class="pull-left">
        <a class="btn btn-default" href="getting_started.html" title="previous chapter (use the left arrow)">Getting started</a>
      </div>
    
      <div class="pull-right">
        <a class="btn btn-default" href="tuto_webserver.html" title="next chapter (use the right arrow)">Advanced uses: Webserver</a>
      </div>
    </div>
    <div class="clearer"></div>
  
        </div>
        <div class="clearfix"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="tuto_webserver.html" title="Advanced uses: Webserver"
             >next</a> |</li>
        <li class="right" >
          <a href="getting_started.html" title="Getting started"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">HiPlot 0.1.33
 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">More about <code class="xref py py-class docutils literal notranslate"><span class="pre">hiplot.Experiment</span></code></a></li> 
      </ul>
    </div>
<script type="text/javascript">
  $("#mobile-toggle a").click(function () {
    $("#left-column").toggle();
  });
</script>
<script type="text/javascript" src="_static/js/bootstrap.js"></script>
  <div class="footer">
    <a href="https://opensource.facebook.com/legal/privacy/">Privacy</a> - <a href="https://opensource.facebook.com/legal/terms/">Terms</a><br />
    &copy; Copyright 2020, Facebook AI Research (FAIR). Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
  </div>
  </body>
</html>